<div class="btn-toolbar pull-right" ng-include="'/partials/map_tool_buttons.html'">

</div>

<div class="btn-toolbar">

	<div class="btn-group" ng-show="user == map.owner" ng-include="'/partials/grid_menu.html'"></div>

	<div class="btn-group" ng-include="'/partials/layers_menu.html'"></div>

	<div class="btn-group" ng-controller="ListCombatantsCtrl">
		<a class="btn btn-small dropdown-toggle" data-toggle="dropdown" href="#">Combatants<span class="caret"> </span></a>
		<ul class="dropdown-menu">

			<li ng-repeat="combatant in combatants" style="clear:both;">
				<p ng-click="selectCombatant(combatant)" ng-class="{'selected':combatants.selected == combatant}">
					{{ combatant.name }}
				</p>
			</li>

		</ul>
	</div>

	<div class="btn-group" ng-controller="ListCombatantsCtrl" ng-show="combatants.selected">
		<a class="btn btn-small dropdown-toggle" data-toggle="dropdown" href="#">
			{{combatants.selected.name}} <span class="caret"> </span>
		</a>
		<ul class="dropdown-menu">

			<li>
				<label for="selCombatantName">Name</label>
				<input ng-model="combatants.selected.name" ng-change="saveCombatant($event, combatants.selected)" ng-click="stopPropagation($event)" name="selCombatatnName" />
			</li>

			<li>
				<label for="selCombatantSize">Size</label>
				<input ng-model="combatants.selected.size" ng-change="saveCombatant($event, combatants.selected)" ng-click="stopPropagation($event)" name="selCombatantSize" type="number" step="1" min="1" max="10" />
			</li>

			<li>
				<label for="selCombatantColor">Color</label>
				<input ng-model="combatants.selected.color" ng-change="saveCombatant($event, combatants.selected)" ng-click="stopPropagation($event)" name="selCombatantColor" type="color" />
			</li>

			<li>
				<label for="selCombatantAuraSize">Aura Size</label>
				<input ng-model="combatants.selected.aura_size" ng-change="saveCombatant($event, combatants.selected)" ng-click="stopPropagation($event)" name="selCombatantAuraSize" type="number" step="1" min="0" max="20" />
			</li>

			<li>
				<label for="selCombatantAuraColor">Aura Color</label>
				<input ng-model="combatants.selected.aura_color" ng-change="saveCombatant($event, combatants.selected)" ng-click="stopPropagation($event)" name="selCombatantAuraColor" type="color" />
			</li>

			<li>
				<button class="btn btn-danger" ng-click="deleteCombatant($event, combatants.selected)">Delete</button>
			</li>

		</ul>
	</div>

	<div class="btn-group" ng-repeat="button in buttons" ng-show="button.menu != undefined">
		<a class="btn btn-small dropdown-toggle" data-toggle="dropdown" href="#">
			{{ button.name }}
			<span class="caret"></span>
		</a>

		<ul class="dropdown-menu">
			<li><a tabindex="-1" href="#">Action</a></li>
			<li><a tabindex="-1" href="#">Another action</a></li>
			<li><a tabindex="-1" href="#">Something else here</a></li>
			<li class="divider"></li>
			<li><a tabindex="-1" href="#">Separated link</a></li>
		</ul>
	</div>

	<a href="{{ button.url }}" class="btn btn-small {{ button.class }}" ng-repeat="button in buttons" ng-show="button.menu == undefined"><i ng-repeat="icon in button.icons" class="{{ icon }}">&nbsp;</i> {{ button.name }}</a>

</div>
